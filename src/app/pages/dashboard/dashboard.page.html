<ion-header>
    <ion-toolbar>
        <ion-title>Bienvenido ql</ion-title>
    </ion-toolbar>
</ion-header>

<!-- <app-navbar titulo="Dashboard" avatar="{{ this.avatar }}"></app-navbar> -->

<ion-content class="ion-padding">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
            pullingIcon=""
            pullingText="Arrastra para actualizar"
            refreshingSpinner="crescent"
        >
        </ion-refresher-content>
    </ion-refresher>

    <div class="alerts-wrapper"
         *ngIf="alerts.has_confirmation || alerts.has_backend_notification"
    >
        <div class="card card-alert card-alert-reserva"
             *ngIf="alerts.has_confirmation"
             (click)="goToEditConfirm(alerts.confirmation.clase_id)"
        >
            <div class="ps-row">
                <div class="col-2 icon">
                    <ion-icon src="/assets/icon/calendar.svg"></ion-icon>
                </div>
                <div class="col-10 text">
                    <p>
                        Tienes una clase reservada a las {{ alerts.confirmation.start }} ¡Confírma tu asistencia!
                    </p>
                </div>
            </div>
        </div>
        
        <div *ngIf="alerts?.has_backend_notification">
            <div class="card card-alert card-alert-info"  *ngFor="let bn of alerts.backend_notification" >
    
                <div class="ps-row">
                    <div class="col-2 icon">
                        <ion-icon src="/assets/icon/info.svg"></ion-icon>
                    </div>
                    <div class="col-10 text">
                        <p [innerHTML]="bn.message"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
  
    <div class="section wod-resumen">
        <ion-slides>
          <ion-slide *ngFor="let wod of wods; let i = index" class="wod-slide">
            <div class="card-header">
              <h1 class="title-section">{{wod.claseType}}</h1>
              <div class="step-icon">
                <!-- <img *ngIf="wodsCount > 1" src="assets/icon/arrow-black.svg"> -->
                <div class="step" *ngFor="let wod of wods; let num = index" [ngClass]="{'active':num == i}"></div>
              </div>
            </div>
            <div class="card card-resumen">
              <div class="text-box-resumen">
                <p *ngIf="wod.rels.stages.has">{{wod.rels.stages.featured}}</p>
                <p *ngIf="!wod.rels.stages.has">No hay WOD registrado para el dia de hoy.</p>
              </div>
            </div>
            <button class="button-wod-today" (click)="verWOD(wod.identificador)">Ver Clase del día</button>
          </ion-slide>
          <!-- <ion-slide class="wod-slide">
            <div class="card-header">
              <h1 class="title-section">Frenetik</h1>
              <div class="step-icon">
                <img src="assets/icon/arrow-black.svg">
              </div>
            </div>
            <div class="card card-resumen">
              <div class="text-box-resumen">
                <p *ngIf="today?.wod?.has">{{today?.wod?.stages.wod}}</p>
                <p *ngIf="!today?.wod?.has">No hay WOD registrado para el dia de hoy.</p>
              </div>
              <button class="button-bottom" (click)="verWOD()">Ver Clase del día</button>
            </div>
          </ion-slide> -->
        </ion-slides>
      </div>

    <div class="section">
        <h1 class="title-section">
            Progreso de peso
        </h1>
        
        <div class="card card-asistencia">
            <!-- <canvas #barCanvas></canvas> -->
            <canvas baseChart
                [datasets]="lineChartData"
                [labels]="lineChartLabels"
                chartType="line"
                [options]="lineChartOptions"
            >
            </canvas>
        </div>
    </div>
</ion-content>
